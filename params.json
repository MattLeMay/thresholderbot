{"name":"Thresholderbot","tagline":"A personal software robot that will monitor your Twitter timeline and send you an email every time it sees a link more than a certain number of times.","body":"# Thresholderbot\r\n\r\nThresholderbot is a simple app that grew out of this conversation with\r\n[@mattlemay][mattlemay]:\r\n\r\n![](resources/germ-of-an-idea.png)\r\n\r\nIt's a personal software robot that will monitor your Twitter timeline and\r\nsend you an email every time it sees a link more than a certain *threshold*\r\nnumber of times. This is super-stupid **Data Science** built on the **Big\r\nData** of your personal Twitter timeline.\r\n\r\nThe emails it sends you look like this:\r\n\r\n![](resources/thresholderbot-email.png)\r\n\r\nThresholderbot is designed to be deployed for free on [Heroku][heroku].\r\n\r\n\r\n## Prerequisites\r\n\r\n 1. A [Heroku][heroku] account\r\n 2. The [Heroku Toolbelt][heroku-toolbelt]\r\n 3. A [Twitter app][twitter-apps] whose credentials Thresholderbot can use to\r\n    access your timeline\r\n\r\n\r\n## Installation\r\n\r\nInstallation is pretty straightforward (hopefully). The most complicated\r\npart will be figuring out the Twitter credentials to use.\r\n\r\nFirst, clone this git repo:\r\n\r\n```bash\r\ngit clone git@github.com:mccutchen/thresholderbot.git\r\ncd thresholderbot\r\n```\r\n\r\nNext, set up the Heroku app:\r\n\r\n```bash\r\nheroku create\r\nheroku addons:add rediscloud:20\r\nheroku addons:add mandrill:starter\r\n```\r\n\r\nCreate an appropriate config file. I recommend keeping your config in\r\na `.env` file, [for use with Foreman and the heroku-config plugin][heroku-config].\r\n\r\nHere's what your Heroku environment should look like:\r\n\r\n```bash\r\ncat .env\r\n```\r\n```bash\r\n# Twitter app and access token credentials\r\nCONSUMER_KEY=aaa\r\nCONSUMER_SECRET=bbb\r\nACCESS_TOKEN_KEY=xxx\r\nACCESS_TOKEN_SECRET=yyy\r\n\r\n# Set your threshold (defaults to 5)\r\nTHRESHOLD=5\r\n\r\n# Recipient of reports\r\nTO_ADDRESS=you@yourdomain.com\r\n```\r\n\r\n**A note on access tokens:** To do its job, Thresholderbot must be granted\r\naccess to your account by way of OAuth tokens issued for a Twitter app\r\nconnected to your account. This is probably the trickiest part of configuring\r\nThresholderbot. If you have already created a Twitter app, you can go ahead and\r\n[generate the appropriate credentials][twitter-credentials].\r\nOtherwise, you'll need to [create a new Twitter app][twitter-apps] first, then\r\n[generate the appropriate credentials][twitter-credentials].\r\n\r\nPush your config out to Heroku:\r\n\r\n```bash\r\nheroku plugins:install git://github.com/ddollar/heroku-config.git\r\nheroku config:push\r\n```\r\n\r\nDeploy to heroku and scale up to one process:\r\n\r\n```bash\r\ngit push heroku master\r\nheroku ps:scale thresholderbot=1\r\n```\r\n\r\n\r\n### Verify that it's working\r\n\r\nWatch the logs for a little while:\r\n\r\n```bash\r\nheroku logs -t\r\n```\r\n\r\nYou should see some messages like this:\r\n\r\n```\r\n2013-06-04T16:30:07.448916+00:00 heroku[api]: Scale to thresholderbot=1 by mccutchen@gmail.com\r\n2013-06-04T16:30:10.148498+00:00 heroku[thresholderbot.1]: Starting process with command `python thresholderbot.py`\r\n2013-06-04T16:30:11.399506+00:00 heroku[thresholderbot.1]: State changed from starting to up\r\n2013-06-04T16:30:48.969903+00:00 app[thresholderbot.1]: INFO thresholderbot.py:22: Got 462 friends on startup\r\n```\r\n\r\nWhen you see the message about friends on startup, you know your Thresholderbot is configured correctly.\r\n\r\n\r\n## Adjusting the threshold\r\n\r\nThe default threshold is **5**, which means you'll only receive emails for\r\nlinks shared at least 5 times by accounts you follow on Twitter. You'll\r\nprobably wan to adjust the threshold as necessary to tune how many emails you\r\nget from Thresholderbot, depending on the nature of the accounts you follow\r\nand how much overlap there is in the content they share.\r\n\r\nFor my personal account, I've found that a threshold of 4 seems to hit the\r\nright balance of signal to noise.\r\n\r\nUpdating the threshold is easy and (essentially) instant. For example, if you\r\nwant to receive more emails from Thresholderbot, you might want to set your\r\nthreshold at 2:\r\n\r\n```bash\r\nheroku config:set THRESHOLD=2\r\n```\r\n\r\n\r\n## Local Development/Testing\r\n\r\nTo run a Thresholderbot locally, you'll make sure you have the following\r\nprerequisites:\r\n\r\n 1. [foreman][foreman] (installed by the Heroku Toolbelt)\r\n 2. [pip][pip]\r\n 3. [redis][redis]\r\n\r\nOnce those are met, running locally should be as simple as:\r\n\r\n```bash\r\npip install -r requirements.txt\r\nforeman start\r\n```\r\n\r\n\r\n## Contributing\r\n\r\nSuggestions/ideas/insults/pull requests are welcome!\r\n\r\n\r\n[mattlemay]: https://twitter.com/mattlemay\r\n[heroku]: https://heroku.com/\r\n[heroku-toolbelt]: https://toolbelt.heroku.com/\r\n[heroku-config]: https://devcenter.heroku.com/articles/config-vars#local-setup\r\n[twitter-credentials]: https://dev.twitter.com/docs/auth/tokens-devtwittercom\r\n[twitter-apps]: https://dev.twitter.com/apps\r\n[foreman]: https://github.com/ddollar/foreman\r\n[pip]: http://www.pip-installer.org/\r\n[redis]: http://redis.io/\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}